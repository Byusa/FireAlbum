[{"/Users/sergebyusa/Library/Mobile Documents/com~apple~CloudDocs/Desktop/React/firebase-albums/src/index.js":"1","/Users/sergebyusa/Library/Mobile Documents/com~apple~CloudDocs/Desktop/React/firebase-albums/src/App.js":"2","/Users/sergebyusa/Library/Mobile Documents/com~apple~CloudDocs/Desktop/React/firebase-albums/src/reportWebVitals.js":"3","/Users/sergebyusa/Library/Mobile Documents/com~apple~CloudDocs/Desktop/React/firebase-albums/src/NewAlbumForm.js":"4","/Users/sergebyusa/Library/Mobile Documents/com~apple~CloudDocs/Desktop/React/firebase-albums/src/base.js":"5","/Users/sergebyusa/Library/Mobile Documents/com~apple~CloudDocs/Desktop/React/firebase-albums/src/Album.js":"6","/Users/sergebyusa/Library/Mobile Documents/com~apple~CloudDocs/Desktop/React/firebase-albums/src/Home.js":"7","/Users/sergebyusa/Library/Mobile Documents/com~apple~CloudDocs/Desktop/React/firebase-albums/src/NewPhoto.js":"8","/Users/sergebyusa/Library/Mobile Documents/com~apple~CloudDocs/Desktop/React/firebase-albums/src/components/NavBar.js":"9"},{"size":613,"mtime":1611220005885,"results":"10","hashOfConfig":"11"},{"size":1020,"mtime":1614101727861,"results":"12","hashOfConfig":"11"},{"size":362,"mtime":1611220005888,"results":"13","hashOfConfig":"11"},{"size":1657,"mtime":1614100836712,"results":"14","hashOfConfig":"11"},{"size":1457,"mtime":1614100412009,"results":"15","hashOfConfig":"11"},{"size":4119,"mtime":1614162592001,"results":"16","hashOfConfig":"11"},{"size":1272,"mtime":1614101980838,"results":"17","hashOfConfig":"11"},{"size":1306,"mtime":1611529247383,"results":"18","hashOfConfig":"11"},{"size":504,"mtime":1611540528515,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"4onpw1",{"filePath":"23","messages":"24","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"22"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30","usedDeprecatedRules":"31"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36","usedDeprecatedRules":"22"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"/Users/sergebyusa/Library/Mobile Documents/com~apple~CloudDocs/Desktop/React/firebase-albums/src/index.js",[],["44","45"],"/Users/sergebyusa/Library/Mobile Documents/com~apple~CloudDocs/Desktop/React/firebase-albums/src/App.js",["46"],"import React, { useEffect, useState } from 'react'\nimport './App.css';\nimport { db } from './base'\nimport { Switch, Route } from 'react-router-dom';\nimport Album from './Album'\nimport Home from './Home'\n\nfunction App() {\n\n  const [albums, setAlbums] = useState([])\n\n  useEffect(() => {\n    //Our use effect now is triggered only once we change anything \n    //cause we added [] (without [], it would be triggered in every component update)\n    const unmount = db.collection('food').onSnapshot((snapshot) => {\n      const tempAlbums = []\n      snapshot.forEach(doc => {\n        //distructuring\n        tempAlbums.push({\n          ...doc.data(),\n          id: doc.id\n        });\n      })\n      setAlbums(tempAlbums)\n      tempAlbums.map((temp) => { console.log(temp) })\n    })\n    return unmount\n  }, [])\n\n  return (\n    <main>\n      <Switch>\n        <Route exact path=\"/\" render={() => <Home albums={albums} />} />\n        <Route path=\"/:album\" component={Album} />\n      </Switch>\n    </main>\n\n  );\n}\n\nexport default App","/Users/sergebyusa/Library/Mobile Documents/com~apple~CloudDocs/Desktop/React/firebase-albums/src/reportWebVitals.js",[],"/Users/sergebyusa/Library/Mobile Documents/com~apple~CloudDocs/Desktop/React/firebase-albums/src/NewAlbumForm.js",["47","48","49","50","51","52"],"import React, { useState } from 'react'\nimport { fire, db, auth } from './base'\nimport firebase from 'firebase'\nimport styled from 'styled-components/macro'\n\nconst Colors = {\n    COINBASE: 'rgb(6, 103, 208)',\n    SMOKE: '#ccc',\n    RED: 'red',\n    BLUE: 'blue',\n};\n\n\nconst Header = styled.div`\n    background:'blue',\n    width: 100%,\n    height: 10%,\n    top: 20%\n    @media (min-width: 700px) {\n        width: 500px;\n      }\n`\nconst Title = styled.h1`\n  font-size: 50px;\n  color: ${props => props.color};\n`;\n\n\nconst Card = styled.div`\n  background: #fff;\n  width: 100%;\n  border-radius: 8px;\n  border: 1px solid ${Colors.SMOKE};\n  padding: 15px;\n\n  @media (min-width: 700px) {\n    width: 500px;\n  }\n`;\n\n\nconst NewAlbumForm = () => {\n    const [albumName, setAlbumName] = useState(\"\")\n\n    const onAlbumNameChange = (e) => {\n        setAlbumName(e.target.value)\n    }\n\n    const onAlbumCreate = () => {\n        //e.preventDefault();\n        //console.log(\" on Album Name Change clicked\")\n        if (!albumName) {\n            console.log(\"aaaaaaaa\", albumName)\n            return\n        }\n        db.collection(\"food\").doc(albumName).set({\n            name: albumName\n        }).then(function () {\n            console.log(\"dddddddddddd Document successfully written!\");\n        }).catch(function (error) {\n            console.error(\"eeeeeeeeeeeeeee Error writing document: \", error);\n        });\n        setAlbumName(\"\")\n    }\n    return (\n        <div>\n\n            <input value={albumName} onChange={onAlbumNameChange} type=\"text\" />\n            <button onClick={onAlbumCreate}> Create album </button>\n        </div>\n    )\n}\nexport default NewAlbumForm; ",["53","54"],"/Users/sergebyusa/Library/Mobile Documents/com~apple~CloudDocs/Desktop/React/firebase-albums/src/base.js",[],"/Users/sergebyusa/Library/Mobile Documents/com~apple~CloudDocs/Desktop/React/firebase-albums/src/Album.js",["55","56","57","58","59","60"],"import React, { useEffect, useState } from \"react\";\nimport { useRouteMatch, Link } from \"react-router-dom\";\nimport NewPhoto from \"./NewPhoto\";\nimport { db } from \"./base\";\nimport NavBar from \"./components/NavBar\";\nimport firebase from \"firebase\";\n\nconst Album = () => {\n  const [images, setImages] = useState([]);\n  const [albumName, setAlbumName] = useState(\"\");\n\n  const match = useRouteMatch(\"/:album\");\n  const { album } = match.params;\n\n  useEffect(() => {\n    const unmount = db\n      .collection(\"food\")\n      .doc(album)\n      .onSnapshot((doc) => {\n        console.log(\"xxxxx\", album);\n        console.log(\"xxxx\" + doc.data().foodImageCollection);\n        setImages(doc.data().foodImageCollection || []);\n        setAlbumName(doc.data().Food_Name);\n      });\n    console.log(\"heyyyy\" + images);\n    return unmount;\n  }, []);\n\n  const testFirebaseTrail = async () => {\n    var foodName = \"chicken\";\n    var image =\n      \"https://images.unsplash.com/photo-1426869981800-95ebf51ce900?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=2100&q=80\";\n    const db = firebase.firestore();\n    //Save image to storage\n    const foodInfo = \"food\" + \"/\" + foodName + \"/\" + image;\n    const response = await fetch(image);\n    const blob = await response.blob();\n\n    var ref = firebase.storage().ref().child(foodInfo);\n\n    await ref\n      .put(blob)\n      .then(function () {\n        console.log(\"dddddddddddd image successfully written!\");\n      })\n      .catch(function (error) {\n        console.error(\"eeeeeeeeeeeeeee Error writing image: \", error);\n      });\n\n    const picturePath = ref._delegate._location.path_;\n\n    var storageRef = await firebase.storage().ref(picturePath);\n    var url = await storageRef.getDownloadURL().then(\n      function (url) {\n        console.log(url);\n      },\n      function (error) {\n        console.log(error);\n      }\n    );\n\n    console.log(\"---------------------\");\n    console.log(\"xxxxxxxxxxxxxxxxxxx = \", url, \" = xxxxxxxxxxxxxxxxxxx \");\n    console.log(\"---------------------\");\n\n    //console.log(\"YYYYYY\", picturePath)\n\n    const Userid =\n      firebase.auth().currentUser && firebase.auth().currentUser.uid;\n\n    var docRef = firebase\n      .firestore()\n      .collection(\"food\")\n      .doc(foodName.toLowerCase());\n\n    await firebase\n      .firestore()\n      .collection(\"food\")\n      .doc(\"chicken\")\n      .set(\n        {\n          id: \"01\",\n          Food_Name: \"chicken\",\n          Alternate_Food_Name: \"chick\",\n          Ingredients: \"ingredients\",\n          Nutrients: \"nutrients\",\n          foodImageCollection: firebase.firestore.FieldValue.arrayUnion({\n            userId: \"007\",\n            picturePath: \"picturePath\",\n            //url: url,\n          }),\n        },\n        { merge: true }\n      )\n      .then(function () {\n        console.log(\"dddddddddddd Food Name successfully written!\");\n      })\n      .catch(function (error) {\n        console.error(\"eeeeeeeeeeeeeee Error3 writing Food Name: \", error);\n      });\n  };\n\n  return (\n    <div>\n      <NavBar title={albumName} />\n      <section>\n        <header>\n          <h1>{albumName}</h1>\n          <p>\n            {\" \"}\n            Go to the <Link to=\"/\">Home Page</Link>\n          </p>\n        </header>\n        {images.map((image) => (\n          <div>\n            <div></div>\n            <aside key={image.name}>\n              <select name=\"User Info\" id=\"user\">\n                <option value=\"\"> Delete </option>\n                <option value=\"\" selected>\n                  {\" \"}\n                  More Info{\" \"}\n                </option>\n                <option value=\"\"> Edit Description</option>\n              </select>\n              {console.log(\"immmmm\", image.url)}\n              {/* <img src={image.image} alt=\"album\" /> */}\n              <img src={image ? image.url : \"\"} alt=\"album\" />\n            </aside>\n          </div>\n        ))}\n      </section>\n      <footer>\n        <NewPhoto currentAlbum={album} />\n        {/* <button onClick={() => testFirebaseTrail()}>Trial button</button> */}\n      </footer>\n    </div>\n  );\n};\n\nexport default Album;\n","/Users/sergebyusa/Library/Mobile Documents/com~apple~CloudDocs/Desktop/React/firebase-albums/src/Home.js",[],"/Users/sergebyusa/Library/Mobile Documents/com~apple~CloudDocs/Desktop/React/firebase-albums/src/NewPhoto.js",["61"],"import React, { useState } from 'react'\nimport { db, storage } from './base'\nimport firebase from 'firebase'\nimport styled from 'styled-components/macro'\n\n\n\n\nconst NewPhoto = ({ currentAlbum }) => {\n    const [file, setFile] = useState(null)\n\n    const onFileChange = (e) => {\n        console.log(\"file name is: \", e.target.files[0].name)\n        console.log(\"type of file.name = \", typeof e.target.files[0].name)\n\n        setFile(e.target.files[0])\n        console.log(\"type of file = \", typeof file)\n        console.log(\"file  is: \", e.target.files[0])\n        console.log(\"file = \", file)\n\n    }\n    const onUpload = async () => {\n        const storageRef = storage.ref()\n        const fileRef = storageRef.child(file.name)\n        await fileRef.put(file)\n        db.collection(\"albums\").doc(currentAlbum).update({\n            image: firebase.firestore.FieldValue.arrayUnion({\n                name: file.name,\n                url: await fileRef.getDownloadURL()\n            })\n        })\n        // db.collection(\"albums\").doc(currentAlbum).set({\n        //     altenativeName: \"trial1\"\n        // })\n    }\n    return (\n        <div>\n\n            <input type=\"file\" onChange={onFileChange} />\n            <button onClick={onUpload}>Upload image </button>\n        </div>\n    )\n}\n\nexport default NewPhoto\n","/Users/sergebyusa/Library/Mobile Documents/com~apple~CloudDocs/Desktop/React/firebase-albums/src/components/NavBar.js",[],{"ruleId":"62","replacedBy":"63"},{"ruleId":"64","replacedBy":"65"},{"ruleId":"66","severity":1,"message":"67","line":25,"column":29,"nodeType":"68","messageId":"69","endLine":25,"endColumn":31},{"ruleId":"70","severity":1,"message":"71","line":2,"column":10,"nodeType":"72","messageId":"73","endLine":2,"endColumn":14},{"ruleId":"70","severity":1,"message":"74","line":2,"column":20,"nodeType":"72","messageId":"73","endLine":2,"endColumn":24},{"ruleId":"70","severity":1,"message":"75","line":3,"column":8,"nodeType":"72","messageId":"73","endLine":3,"endColumn":16},{"ruleId":"70","severity":1,"message":"76","line":14,"column":7,"nodeType":"72","messageId":"73","endLine":14,"endColumn":13},{"ruleId":"70","severity":1,"message":"77","line":23,"column":7,"nodeType":"72","messageId":"73","endLine":23,"endColumn":12},{"ruleId":"70","severity":1,"message":"78","line":29,"column":7,"nodeType":"72","messageId":"73","endLine":29,"endColumn":11},{"ruleId":"62","replacedBy":"79"},{"ruleId":"64","replacedBy":"80"},{"ruleId":"81","severity":1,"message":"82","line":27,"column":6,"nodeType":"83","endLine":27,"endColumn":8,"suggestions":"84"},{"ruleId":"70","severity":1,"message":"85","line":29,"column":9,"nodeType":"72","messageId":"73","endLine":29,"endColumn":26},{"ruleId":"70","severity":1,"message":"86","line":33,"column":11,"nodeType":"72","messageId":"73","endLine":33,"endColumn":13},{"ruleId":"87","severity":1,"message":"88","line":35,"column":29,"nodeType":"89","messageId":"90","endLine":35,"endColumn":30},{"ruleId":"70","severity":1,"message":"91","line":68,"column":11,"nodeType":"72","messageId":"73","endLine":68,"endColumn":17},{"ruleId":"70","severity":1,"message":"92","line":71,"column":9,"nodeType":"72","messageId":"73","endLine":71,"endColumn":15},{"ruleId":"70","severity":1,"message":"93","line":4,"column":8,"nodeType":"72","messageId":"73","endLine":4,"endColumn":14},"no-native-reassign",["94"],"no-negated-in-lhs",["95"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","no-unused-vars","'fire' is defined but never used.","Identifier","unusedVar","'auth' is defined but never used.","'firebase' is defined but never used.","'Header' is assigned a value but never used.","'Title' is assigned a value but never used.","'Card' is assigned a value but never used.",["94"],["95"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'album' and 'images'. Either include them or remove the dependency array.","ArrayExpression",["96"],"'testFirebaseTrail' is assigned a value but never used.","'db' is assigned a value but never used.","no-useless-concat","Unexpected string concatenation of literals.","BinaryExpression","unexpectedConcat","'Userid' is assigned a value but never used.","'docRef' is assigned a value but never used.","'styled' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"97","fix":"98"},"Update the dependencies array to be: [album, images]",{"range":"99","text":"100"},[829,831],"[album, images]"]